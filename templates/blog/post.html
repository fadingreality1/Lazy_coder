{% extends '../base.html' %}
{% load static %}
{% block middle_section %}

<main class="row content__page">
                
    <article class="column large-full entry format-standard">

        <div class="media-wrap entry__media">
            <div class="entry__post-thumb">
                <img src="{{post.image.url}}" alt="">
            </div>
        </div>

        <div class="content__page-header entry__header">
            <h1 class="display-1 entry__title">
            {{post.title}}
            </h1>
            <ul class="entry__header-meta">
            <li class="author">By <a href="#0">{{post.author.first_name|title}}</a></li>
                <li class="date">{{post.date_posted|date:"F j, Y"}}</li>
                <li class="cat-links">
                    <a href="#0">Marketing</a><a href="#0">Management</a>
                </li>
            </ul>
        </div> <!-- end entry__header -->

        <div class="entry__content">

            <p class="lead drop-cap">
            {{post.description}}
            </p>

            <p>
            {{post.content}}
            </p>

            <p class="entry__tags">
                <span>Post Tags</span>

                <span class="entry__tag-list">
                    <a href="#0">orci</a>
                    <a href="#0">lectus</a>
                    <a href="#0">varius</a>
                    <a href="#0">turpis</a>
                </span>

            </p>
        </div> <!-- end entry content -->
    </article> <!-- end column large-full entry-->
    

    {% if request.user.is_authenticated %}
        <h3 class="h3">Add Comment.</h3>
        <form action="{% url 'post_comment' post.slug %}" method="post" class="large-full">
            {% csrf_token %}

                <div class="form-field">
                    <input name="comment" id="cWebsite" class="full-width" placeholder="Comment here" value="" type="text" maxlength = "700" required>
                </div>
                <input type="hidden" value="" name="parent_id">

                <div class="form-field">
                    <input name="submit" id="submit" class="btn" value="Comment" type="submit">
                </div>

        </form>
    
    {% else %}
        <h3 class="h3"><a href="{% url 'signin' %}" class="">Signin</a> to Post Comments.</h3>
    {% endif %}
    
    
    {% if comments.count == 0 %}

        <h3 class="h3">No comments yet. be the first person to comment</h3>

    {% else %}

        <div class="large-full">
            
            <div id="comments" class="column large-12">

                <h3 class="h3">{{comments.count}} Comments.</h3>

                <!-- START commentlist -->
                <ol class="commentlist">

                    {% for comment in comments %}
                        <li class="depth-1 comment">
                            <div class="comment__avatar">
                                <img class="avatar" src="{{comment.user.profile.image.url}}" alt="" width="50" height="50" style="margin-top:0;">
                            </div>

                            <div class="comment__content">

                                <div class="comment__info">
                                    <div class="comment__author" style="line-height: 1.2em;">{{comment.user.first_name|title}} {{comment.user.last_name|title}}<br><p style="font-size: 0.7em; margin-bottom:0; color:#7e7e7e">@{{comment.user.username}}</p></div>

                                    <div class="comment__meta">
                                        <div class="comment__time">{{comment.date_posted|date:"F j, Y"}}</div>
                                    </div>
                                </div>

                                <div class="comment__text">
                                    <p style="margin-bottom:16px">
                                        {{comment.content}}
                                    </p>
                                </div>
                                {% comment %}! I know below code is shit but it is what it is  {% endcomment %}
                                <style>
                                    #rb{{comment.id}} #collapsible{{comment.id}}{
                                        overflow: hidden;
                                        padding-bottom: 0;
                                        margin-bottom: 0;
                                        height: fit-content;
                                        margin-bottom: 1em;
                                      }
                                      
                                    #rb{{comment.id}} #collapsible{{comment.id}} .checkbox_1{
                                        display: none;
                                      }
                                      
                                    #rb{{comment.id}} #collapsible{{comment.id}} #label{{comment.id}}{
                                        position: relative;
                                        display: block;
                                        cursor: pointer; 
                                        z-index: 1;
                                      }
                                      
                                    #rb{{comment.id}} #collapsible{{comment.id}} #label{{comment.id}}::after{
                                        content : "";
                                        position: absolute;
                                        transition: all 0.3 ease;
                                        right: 15px;
                                        top: 20px;
                                        width: 18px;
                                        height: 18px;
                                      }
                                      
                                    #rb{{comment.id}} #collapsible-head{{comment.id}}:checked + #collapsible{{comment.id}} #label{{comment.id}}::after{
                                        transform: rotate(90deg);
                                        transition: all 0.3 ease;
                                      }
                                      
                                    #rb{{comment.id}} #collapsible-text{{comment.id}}{
                                        max-height: 1px;
                                        overflow: hidden;
                                        line-height: 1.4;
                                        position: relative;
                                        opacity: 0.5;
                                        transition: all 0.3s ease;
                                        top: -100%;
                                      }
                                      
                                    #rb{{comment.id}} #collapsible{{comment.id}} #collapsible-head{{comment.id}}:checked ~ #collapsible-text{{comment.id}}{
                                        max-height: 300px;
                                        background: #f6f7f8;
                                        padding-bottom: 25px;
                                        opacity: 1;
                                        top: 0;
                                      }
                                      
                                      #rb{{comment.id}} #collapsible-text{{comment.id}} #form{{comment.id}}{
                                        display: flex;
                                        margin-bottom: 0;
                                        padding-bottom: 0;
                                      }
                                </style>
                                <div id="rb{{comment.id}}">
                                    <div class="comment" id="collapsible{{comment.id}}">
                                        <input type="checkbox" id="collapsible-head{{comment.id}}" class="checkbox_1">
                                        <label for="collapsible-head{{comment.id}}" style="text-transform: uppercase;  color:black;     font-family: 'IBM Plex Sans', sans-serif; letter-spacing: 0.15em; padding:0; margin:0;" id="label{{comment.id}}">Reply</label>
                                        <div id="collapsible-text{{comment.id}}">
                                            <form action="{% url 'post_comment' post.slug %}" method="post" id="form{{comment.id}}">
                                                {% csrf_token %}
                                                <input type="hidden" name="parent_id" value="{{comment.id}}">
                                                <input name="comment" id="cWebsite" class="full-width" placeholder="Comment here" value="" type="text" maxlength = "700" required>
                                                <input name="submit1" id="submit" class="btn btn--medium" value="Add Reply" type="submit" style="width:min-content;">
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </li> <!-- end comment level 1 -->
                    {% endfor %}

                    <li class="thread-alt depth-1 comment">

                        <div class="comment__avatar">
                            <img class="avatar" src="{% static 'images/avatars/user-04.jpg' %}" alt="" width="50" height="50">
                        </div>

                        <div class="comment__content">

                            <div class="comment__info">
                                <div class="comment__author">John Doe</div>

                                <div class="comment__meta">
                                    <div class="comment__time">April 30, 2019</div>
                                </div>
                            </div>

                            <div class="comment__text">
                            <p>Sumo euismod dissentiunt ne sit, ad eos iudico qualisque adversarium, tota falli et mei. Esse euismod
                            urbanitas ut sed, et duo scaevola pericula splendide. Primis veritus contentiones nec ad, nec et
                            tantas semper delicatissimi.</p>
                            </div>
                            {% comment %} !Reply box {% endcomment %}
                            <div class="collapsible">
                                <input type="checkbox" id="collapsible-head">
                                <label for="collapsible-head" style="text-transform: uppercase;  color:black;     font-family: 'IBM Plex Sans', sans-serif; letter-spacing: 0.15em; padding:0; margin:0;">Reply</label>
                                <div class="collapsible-text">
                                    <form action="" method="post">
                                        {% csrf_token %}
                                        <input name="comment1" id="cWebsite" class="full-width" placeholder="Comment here" value="" type="text" maxlength = "700">
                                        <input name="submit1" id="submit" class="btn" value="Add Comment" type="submit" style="width:min-content;">
                                    </form>
                                </div>
                            </div>
                        </div>

                        <ul class="children">

                            <li class="depth-2 comment">

                                <div class="comment__avatar">
                                    <img class="avatar" src="{% static 'images/avatars/user-03.jpg' %}" alt="" width="50" height="50">
                                </div>

                                <div class="comment__content">

                                    <div class="comment__info">
                                        <div class="comment__author">Kakashi Hatake</div>

                                        <div class="comment__meta">
                                            <div class="comment__time">April 29, 2019</div>
                                            <div class="comment__reply">
                                                <a class="comment-reply-link" href="#0">Reply</a>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="comment__text">
                                        <p>Duis sed odio sit amet nibh vulputate
                                        cursus a sit amet mauris. Morbi accumsan ipsum velit. Duis sed odio sit amet nibh vulputate
                                        cursus a sit amet mauris</p>
                                    </div>

                                </div>

                                <ul class="children">

                                    <li class="depth-3 comment">

                                        <div class="comment__avatar">
                                            <img class="avatar" src="images/avatars/user-04.jpg" alt="" width="50" height="50">
                                        </div>

                                        <div class="comment__content">

                                            <div class="comment__info">
                                                <div class="comment__author">John Doe</div>

                                                <div class="comment__meta">
                                                    <div class="comment__time">April 29, 2019</div>
                                                    <div class="comment__reply">
                                                        <a class="comment-reply-link" href="#0">Reply</a>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="comment__text">
                                            <p>Investigationes demonstraverunt lectores legere me lius quod ii legunt saepius. Claritas est
                                            etiam processus dynamicus, qui sequitur mutationem consuetudium lectorum.</p>
                                            </div>

                                            <ul class="children">

                                                <li class="depth-4 comment">
            
                                                    <div class="comment__avatar">
                                                        <img class="avatar" src="images/avatars/user-04.jpg" alt="" width="50" height="50">
                                                    </div>
            
                                                    <div class="comment__content">
            
                                                        <div class="comment__info">
                                                            <div class="comment__author">NEw Doe</div>
            
                                                            <div class="comment__meta">
                                                                <div class="comment__time">April 29, 2019</div>
                                                                <div class="comment__reply">
                                                                    <a class="comment-reply-link" href="#0">Reply</a>
                                                                </div>
                                                            </div>
                                                        </div>
            
                                                        <div class="comment__text">
                                                        <p>Investigationes demonstraverunt lectores legere me lius quod ii legunt saepius. Claritas est
                                                        etiam processus dynamicus, qui sequitur mutationem consuetudium lectorum.</p>
                                                        </div>
                                                        <ul class="children">

                                                            <li class="depth-5 comment">
                        
                                                                <div class="comment__avatar">
                                                                    <img class="avatar" src="images/avatars/user-04.jpg" alt="" width="50" height="50">
                                                                </div>
                        
                                                                <div class="comment__content">
                        
                                                                    <div class="comment__info">
                                                                        <div class="comment__author">John Doe</div>
                        
                                                                        <div class="comment__meta">
                                                                            <div class="comment__time">April 29, 2019</div>
                                                                            <div class="comment__reply">
                                                                                <a class="comment-reply-link" href="#0">Reply</a>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                        
                                                                    <div class="comment__text">
                                                                    <p>Investigationes demonstraverunt lectores legere me lius quod ii legunt saepius. Claritas est
                                                                    etiam processus dynamicus, qui sequitur mutationem consuetudium lectorum.</p>
                                                                    </div>
                        
                                                                </div>
                        
                                                            </li>
                        
                                                        </ul>
            
                                                    </div>
            
                                                </li>
            
                                            </ul>

                                        </div>

                                    </li>

                                </ul>

                            </li>

                        </ul>

                    </li> <!-- end comment level 1 -->

                    <li class="depth-1 comment">

                        <div class="comment__avatar">
                            <img class="avatar" src="{% static 'images/avatars/user-02.jpg' %}" alt="" width="50" height="50">
                        </div>

                        <div class="comment__content">

                            <div class="comment__info">
                                <div class="comment__author">Shikamaru Nara</div>

                                <div class="comment__meta">
                                    <div class="comment__time">April 26, 2019</div>
                                    <div class="comment__reply">
                                        <a class="comment-reply-link" href="#0">Reply</a>
                                    </div>
                                </div>
                            </div>

                            <div class="comment__text">
                            <p>Typi non habent claritatem insitam; est usus legentis in iis qui facit eorum claritatem.</p>
                            </div>

                        </div>

                    </li>  <!-- end comment level 1 -->

                </ol>
                <!-- END commentlist -->

            </div> <!-- end comments -->

        </div> <!-- end comments-wrap --> 

    {% endif %}


    {% comment %} <div class="comments-wrap">
        
        <div id="comments" class="column large-12">

            <h3 class="h2">Comments</h3>

            <!-- START commentlist -->
            <ol class="commentlist">

                <li class="depth-1 comment">

                    <div class="comment__avatar">
                        <img class="avatar" src="images/avatars/user-01.jpg" alt="" width="50" height="50">
                    </div>

                    <div class="comment__content">

                        <div class="comment__info">
                            <div class="comment__author">Itachi Uchiha</div>

                            <div class="comment__meta">
                                <div class="comment__time">April 30, 2019</div>
                                <div class="comment__reply">
                                    <a class="comment-reply-link" href="#0">Reply</a>
                                </div>
                            </div>
                        </div>

                        <div class="comment__text">
                        <p>Adhuc quaerendum est ne, vis ut harum tantas noluisse, id suas iisque mei. Nec te inani ponderum vulputate,
                        facilisi expetenda has et. Iudico dictas scriptorem an vim, ei alia mentitum est, ne has voluptua praesent.</p>
                        </div>

                    </div>

                </li> <!-- end comment level 1 -->

                <li class="thread-alt depth-1 comment">

                    <div class="comment__avatar">
                        <img class="avatar" src="images/avatars/user-04.jpg" alt="" width="50" height="50">
                    </div>

                    <div class="comment__content">

                        <div class="comment__info">
                            <div class="comment__author">John Doe</div>

                            <div class="comment__meta">
                                <div class="comment__time">April 30, 2019</div>
                                <div class="comment__reply">
                                    <a class="comment-reply-link" href="#0">Reply</a>
                                </div>
                            </div>
                        </div>

                        <div class="comment__text">
                        <p>Sumo euismod dissentiunt ne sit, ad eos iudico qualisque adversarium, tota falli et mei. Esse euismod
                        urbanitas ut sed, et duo scaevola pericula splendide. Primis veritus contentiones nec ad, nec et
                        tantas semper delicatissimi.</p>
                        </div>

                    </div>

                    <ul class="children">

                        <li class="depth-2 comment">

                            <div class="comment__avatar">
                                <img class="avatar" src="images/avatars/user-03.jpg" alt="" width="50" height="50">
                            </div>

                            <div class="comment__content">

                                <div class="comment__info">
                                    <div class="comment__author">Kakashi Hatake</div>

                                    <div class="comment__meta">
                                        <div class="comment__time">April 29, 2019</div>
                                        <div class="comment__reply">
                                            <a class="comment-reply-link" href="#0">Reply</a>
                                        </div>
                                    </div>
                                </div>

                                <div class="comment__text">
                                    <p>Duis sed odio sit amet nibh vulputate
                                    cursus a sit amet mauris. Morbi accumsan ipsum velit. Duis sed odio sit amet nibh vulputate
                                    cursus a sit amet mauris</p>
                                </div>

                            </div>

                            <ul class="children">

                                <li class="depth-3 comment">

                                    <div class="comment__avatar">
                                        <img class="avatar" src="images/avatars/user-04.jpg" alt="" width="50" height="50">
                                    </div>

                                    <div class="comment__content">

                                        <div class="comment__info">
                                            <div class="comment__author">John Doe</div>

                                            <div class="comment__meta">
                                                <div class="comment__time">April 29, 2019</div>
                                                <div class="comment__reply">
                                                    <a class="comment-reply-link" href="#0">Reply</a>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="comment__text">
                                        <p>Investigationes demonstraverunt lectores legere me lius quod ii legunt saepius. Claritas est
                                        etiam processus dynamicus, qui sequitur mutationem consuetudium lectorum.</p>
                                        </div>

                                    </div>

                                </li>

                            </ul>

                        </li>

                    </ul>

                </li> <!-- end comment level 1 -->

                <li class="depth-1 comment">

                    <div class="comment__avatar">
                        <img class="avatar" src="images/avatars/user-02.jpg" alt="" width="50" height="50">
                    </div>

                    <div class="comment__content">

                        <div class="comment__info">
                            <div class="comment__author">Shikamaru Nara</div>

                            <div class="comment__meta">
                                <div class="comment__time">April 26, 2019</div>
                                <div class="comment__reply">
                                    <a class="comment-reply-link" href="#0">Reply</a>
                                </div>
                            </div>
                        </div>

                        <div class="comment__text">
                        <p>Typi non habent claritatem insitam; est usus legentis in iis qui facit eorum claritatem.</p>
                        </div>

                    </div>

                </li>  <!-- end comment level 1 -->

            </ol>
            <!-- END commentlist -->

        </div> <!-- end comments -->

    </div> <!-- end comments-wrap -->  {% endcomment %}
    


</main>


{% endblock middle_section %}
